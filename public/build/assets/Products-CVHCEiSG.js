import{q as m,r as x,j as e,a as u,f as i}from"./app-BcNu5yVF.js";import{A as h}from"./AuthenticatedLayout-DCQ1tQfo.js";import"./transition-DspvlAA8.js";function j(){const{auth:l,products:d}=m().props,r=l.user,[o,n]=x.useState(""),c=d.reduce((t,a)=>{const s=a.category||"Otros";return t[s]||(t[s]=[]),a.name.toLowerCase().includes(o.toLowerCase())&&t[s].push(a),t},{});return e.jsxs(h,{header:e.jsx("h2",{className:"text-xl font-semibold leading-tight text-gray-800",children:"Productos"}),children:[e.jsx(u,{title:"Productos"}),e.jsxs("div",{className:"min-h-screen bg-gray-50 px-6 py-10",children:[e.jsx("div",{className:"max-w-7xl mx-auto mb-8",children:e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("input",{type:"text",placeholder:"Buscar productos",className:"w-full md:w-1/2 border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",value:o,onChange:t=>n(t.target.value)}),(r==null?void 0:r.role)==="admin"&&e.jsx("button",{onClick:()=>i.visit(route("admin.products.create")),className:"ml-4 bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg text-sm shadow",children:"Añadir producto"})]})}),Object.entries(c).map(([t,a])=>e.jsxs("div",{className:"max-w-7xl mx-auto mb-12",children:[e.jsx("h3",{className:"text-2xl font-semibold text-gray-800 mb-6",children:t}),e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-6",children:a.map(s=>e.jsxs("div",{className:"bg-white rounded-xl p-4 shadow hover:shadow-md transition text-center",children:[e.jsx("div",{className:"bg-gray-100 p-4 rounded mb-3",children:e.jsx("img",{src:s.image,alt:s.name,className:"h-24 mx-auto object-contain"})}),e.jsx("h3",{className:"font-semibold text-gray-800",children:s.name}),e.jsxs("p",{className:"text-sm text-gray-500 mb-2",children:["$",parseFloat(s.price).toFixed(2)]}),e.jsx("button",{onClick:()=>i.post(route("cart.add"),{product_id:s.id}),className:"mb-2 w-full bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg text-sm",children:"Añadir al carrito"})]},s.id))})]},t))]})]})}export{j as default};
