import{q as p,r as u,j as e,a as g,f as i}from"./app-BcNu5yVF.js";import{A as y}from"./AuthenticatedLayout-DCQ1tQfo.js";import"./transition-DspvlAA8.js";function N(){const{auth:l,orders:c}=p().props;l.user;const[d,o]=u.useState(""),x=(t,a)=>{i.post(route("admin.orders.updateStatus",{order:t}),{status:a})},n=c.filter(t=>{var s;const a=d.toLowerCase();return((s=t.user)==null?void 0:s.name.toLowerCase().includes(a))||String(t.id).includes(a)});return e.jsxs(y,{header:e.jsx("h2",{className:"text-xl font-semibold leading-tight text-gray-800",children:"Pedidos"}),children:[e.jsx(g,{title:"Pedidos"}),e.jsx("div",{className:"min-h-screen bg-gray-50 px-6 py-10",children:e.jsxs("div",{className:"max-w-7xl mx-auto mb-8",children:[e.jsx("div",{className:"flex justify-between items-center mb-4",children:e.jsx("input",{type:"text",placeholder:"Buscar por nombre o #pedido",className:"w-full md:w-1/2 border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",value:d,onChange:t=>o(t.target.value)})}),e.jsx("div",{className:"bg-white shadow rounded-xl overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200 text-sm text-left",children:[e.jsx("thead",{className:"bg-gray-100",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 font-medium text-gray-600",children:"# Pedido"}),e.jsx("th",{className:"px-6 py-3 font-medium text-gray-600",children:"Cliente"}),e.jsx("th",{className:"px-6 py-3 font-medium text-gray-600",children:"Importe"}),e.jsx("th",{className:"px-6 py-3 font-medium text-gray-600",children:"Método"}),e.jsx("th",{className:"px-6 py-3 font-medium text-gray-600",children:"Estado"}),e.jsx("th",{className:"px-6 py-3 font-medium text-gray-600",children:"Acciones"})]})}),e.jsxs("tbody",{className:"divide-y divide-gray-200",children:[n.map(t=>{var a;return e.jsxs("tr",{children:[e.jsxs("td",{className:"px-6 py-4 font-medium text-gray-800",children:["#",t.id]}),e.jsx("td",{className:"px-6 py-4",children:((a=t.user)==null?void 0:a.name)||"Sin nombre"}),e.jsxs("td",{className:"px-6 py-4",children:[Number(t.total).toFixed(2)," €"]}),e.jsx("td",{className:"px-6 py-4",children:t.payment_method}),e.jsx("td",{className:"px-6 py-4 space-x-2",children:["pendiente","pagada","enviada"].map(s=>{const r=t.status===s,m="text-xs px-3 py-1 rounded-full font-semibold transition duration-200",h={pendiente:r?"bg-gray-300 text-gray-900":"bg-gray-100 text-gray-600 hover:bg-gray-200",pagada:r?"bg-green-400 text-white":"bg-green-100 text-green-800 hover:bg-green-200",enviada:r?"bg-blue-400 text-white":"bg-blue-100 text-blue-800 hover:bg-blue-200"}[s];return e.jsx("button",{disabled:r,onClick:()=>x(t.id,s),className:`${m} ${h} ${r?"cursor-default":"cursor-pointer"}`,children:s.charAt(0).toUpperCase()+s.slice(1)},s)})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("button",{onClick:()=>i.get(route("admin.orders.show",{order:t.id})),className:"px-3 py-1 border rounded text-sm hover:bg-gray-100",children:"Ver"})})]},t.id)}),n.length===0&&e.jsx("tr",{children:e.jsx("td",{className:"px-6 py-4 text-center text-gray-500",colSpan:"5",children:"No se encontraron pedidos."})})]})]})})]})})]})}export{N as default};
